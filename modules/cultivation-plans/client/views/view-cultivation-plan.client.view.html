<section class="content">
  <section class="container">
<section>
  <div class="page-header">
    <h1 ng-bind="vm.cultivationPlan.title"></h1>
  </div>
  <div class="pull-right" ng-show="vm.cultivationPlan.isCurrentUserOwner">
    <a class="btn btn-primary" ui-sref="cultivation-plans.edit({ cultivationPlanId: vm.cultivationPlan._id })">
      <i class="glyphicon glyphicon-edit"></i>
    </a>
    <a class="btn btn-primary" ng-click="vm.remove()">
      <i class="glyphicon glyphicon-trash"></i>
    </a>
  </div>
  <small>
    <em class="text-muted">
      Posted on
      <span ng-bind="vm.cultivationPlan.created | date:'mediumDate'"></span>
      by
      <span ng-if="vm.cultivationPlan.user" ng-bind="vm.cultivationPlan.user.displayName"></span>
      <span ng-if="!vm.cultivationPlan.user">Deleted User</span>
    </em>
  </small>
  <p class="lead" ng-bind="vm.cultivationPlan.description"></p>
  <p class="content">
    <label>Gewas:</label>
    <span ng-bind="vm.cultivationPlan.crop.name"></span>
    <label>Varieteit:</label>
    <span ng-bind="vm.cultivationPlan.variety.name"></span>
  </p>
  <p ng-repeat="step in vm.cultivationPlan.steps" ng-class-odd="'odd'" ng-class-even="'even'" class="panel panel-default">
      <label>Stap {{$index + 1}}: {{step.title}}</label> ter plaatse? {{step.inplace?"Ja":"Nee"}}<br>
      <span>Minimale duur: {{step.minduration}} dagen. Maximale duur: {{step.maxduration}}</span><br>
      Beschrijving: <span ng-bind="step.description"></span><br>

      <img ng-if="step.icon" ng-src="{{step.icon}}" style="border: solid 2px;"><br>
  </p>
</section>
</section>
</section>
